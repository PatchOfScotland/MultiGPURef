import matplotlib.pyplot as plt

import numpy

##### DATA #####

MAP_SINGLE_GPU = numpy.array([])
MMM_SINGLE_GPU = numpy.array([])

#MAP_GPU_2_NO_PEERACCESS = numpy.array([])
#MAP_GPU_3_NO_PEERACCESS = numpy.array([])
#MAP_GPU_2_PEERACCESS    = numpy.array([])
#MAP_GPU_3_PEERACCESS    = numpy.array([])

MMM_GPU_2_NO_PEERACCESS = numpy.array([])
MMM_GPU_3_NO_PEERACCESS = numpy.array([])
MMM_GPU_2_PEERACCESS    = numpy.array([9545,54436,73842,63513,73222,82802,68948,63731,38196,69527,68933,94370,56555,71475,96175,76711,54221,88313,50250,28611,52778,83412,71489,92260,73110])
MMM_GPU_3_PEERACCESS    = numpy.array([
19984, 78428
133708, 104044
138301, 77688
260046, 64851
168698, 125006
205986, 65030
175206, 182082
61218, 45196
367672, 52523
200001, 75243
215476, 39943
293090, 45707
187631, 76848
287346, 33248
186678, 173002
105516, 62577
170689, 94091
318458, 50512
346991, 81043
189924, 42593
283373, 133209
406296, 37285
396991, 46059
231827, 148461
118541, 57323
])
 
def calculate_mean_std(nparr):
    return (nparr.mean(), nparr.std())

MAP_SINGLE_GPU_MEAN, MAP_SINGLE_GPU_STD = calculate_mean_std(MAP_SINGLE_GPU)
MMM_SINGLE_GPU_MEAN, MMM_SINGLE_GPU_STD = calculate_mean_std(MMM_SINGLE_GPU)

MAP_GPU_2_NO_PEERACCESS_Mean, MAP_GPU_2_NO_PEERACCESS_STD = calculate_mean_std(MAP_GPU_2_NO_PEERACCESS)
MAP_GPU_3_NO_PEERACCESS_Mean, MAP_GPU_3_NO_PEERACCESS_STD = calculate_mean_std(MAP_GPU_3_NO_PEERACCESS)
MAP_GPU_2_PEERACCESS_Mean, MAP_GPU_2_PEERACCESS_STD = calculate_mean_std(MAP_GPU_2_PEERACCESS)
MAP_GPU_3_PEERACCESS_Mean, MAP_GPU_3_PEERACCESS_STD = calculate_mean_std(MAP_GPU_3_PEERACCESS)

MMM_GPU_2_NO_PEERACCESS_Mean, MMM_GPU_2_NO_PEERACCESS_STD = calculate_mean_std(MMM_GPU_2_NO_PEERACCESS)
MMM_GPU_3_NO_PEERACCESS_Mean, MMM_GPU_3_NO_PEERACCESS_STD = calculate_mean_std(MMM_GPU_3_NO_PEERACCESS)
MMM_GPU_2_PEERACCESS_Mean,    MMM_GPU_2_PEERACCESS_STD    = calculate_mean_std(MMM_GPU_2_PEERACCESS)
MMM_GPU_3_PEERACCESS_Mean,    MMM_GPU_3_PEERACCESS_STD    = calculate_mean_std(MMM_GPU_3_PEERACCESS)

def printData(program, mean, std):
    print(f"{program}, mean runtime: {mean:.3f} microsec, std: {std:.3f}\n" )

printData("MAP_SINGLE_GPU" ,MAP_SINGLE_GPU_MEAN, MAP_SINGLE_GPU_STD)
printData("MMM_SINGLE_GPU" ,MMM_SINGLE_GPU_MEAN, MMM_SINGLE_GPU_STD)

printData("MAP_GPU_2_NO_PEERACCESS" ,MAP_GPU_2_NO_PEERACCESS_Mean, MAP_GPU_2_NO_PEERACCESS_STD)
printData("MAP_GPU_3_NO_PEERACCESS" ,MAP_GPU_3_NO_PEERACCESS_Mean, MAP_GPU_3_NO_PEERACCESS_STD)
printData("MAP_GPU_2_PEERACCESS" ,MAP_GPU_2_PEERACCESS_Mean, MAP_GPU_2_PEERACCESS_STD)
printData("MAP_GPU_3_PEERACCESS" ,MAP_GPU_3_PEERACCESS_Mean, MAP_GPU_3_PEERACCESS_STD)
 
printData("MMM_GPU_2_NO_PEERACCESS" ,MMM_GPU_2_NO_PEERACCESS_Mean, MMM_GPU_2_NO_PEERACCESS_STD)
printData("MMM_GPU_3_NO_PEERACCESS" ,MMM_GPU_3_NO_PEERACCESS_Mean, MMM_GPU_3_NO_PEERACCESS_STD)
printData("MMM_GPU_2_PEERACCESS" ,MMM_GPU_2_PEERACCESS_Mean,    MMM_GPU_2_PEERACCESS_STD)
printData("MMM_GPU_3_PEERACCESS" ,MMM_GPU_3_PEERACCESS_Mean,    MMM_GPU_3_PEERACCESS_STD)